{
  "prompts": [
    "**01_Library_Foundation**: INICIO DEL MONTAJE. Quiero que configures la estructura base del módulo Library en `src\\features\\EditorEntrenamiento\\components\\LibraryPanel.tsx`.\n\n**Instrucciones:**\n1. Crea el contenedor `<aside>` con el ancho fijo (240px), bordes y estilos base definidos en la Sección 1.1 de la especificación.\n2. Define la estructura interna Flex (`Header`, `Toolbar`, `Body Scrollable`, `Footer`) para preparar las zonas de contenido.\n3. Implementa un renderizado condicional básico para las pestañas (aunque el contenido esté vacío por ahora).\n\n**Referencias Obligatorias:**\n- Revisa @spec-library-panel.md (Sección 1: Arquitectura Visual y Layout).\n- Revisa @editor_entrenamiento_definitivo.md (para mantener consistencia de layout, estilos y comportamiento global).",
    "**02_Navigation_Tabs_Logic**: SISTEMA DE PESTAÑAS. Implementa la navegación superior del panel en `src\\features\\EditorEntrenamiento\\components\\LibraryPanel.tsx`.\n\n**Instrucciones:**\n1. Crea los 3 botones de navegación: Bloques, Ejercicios, Plantillas.\n2. Usa los iconos de Lucide especificados (`Box`, `Dumbbell`, `LayoutTemplate`).\n3. Gestiona el estado `activeTab` y asegúrate de que persista en `localStorage`.\n4. Estiliza el estado activo/inactivo según la guía de diseño (borde inferior azul para activo).\n\n**Referencias Obligatorias:**\n- Revisa @spec-library-panel.md (Sección 2: Sistema de Navegación).\n- Revisa @editor_entrenamiento_definitivo.md (para los estilos de tabs).",
    "**03_Toolbar_Search_Filter**: BARRA DE HERRAMIENTAS. Implementa la zona de búsqueda y filtrado en `src\\features\\EditorEntrenamiento\\components\\LibraryPanel.tsx`.\n\n**Instrucciones:**\n1. Crea el input de búsqueda con icono de lupa y funcionalidad de 'limpiar' (botón X).\n2. Implementa el botón de 'Filtros' que despliegue un Popover (puedes usar un div absoluto temporalmente si no hay componente de UI).\n3. Prepara el estado local para `searchQuery` y `activeFilters`.\n\n**Referencias Obligatorias:**\n- Revisa @spec-library-panel.md (Sección 3: Barra de Herramientas).\n- Revisa @editor_entrenamiento_definitivo.md (para los estilos de inputs y botones).",
    "**04_Data_Mocks_Definition**: DEFINICIÓN DE DATOS. Crea los datos simulados necesarios para poblar la biblioteca.\n\n**Instrucciones:**\n1. Crea el archivo `src/data/libraryMocks.ts` (o dentro de `utils` si prefieres).\n2. Define las interfaces `LibraryBlock` y `LibraryExercise` según la especificación.\n3. Exporta constantes con datos de prueba (`MOCK_EXERCISES`, `MOCK_BLOCKS`) que cubran varios casos (favoritos, diferentes grupos musculares).\n4. Importa estos datos en `src\\features\\EditorEntrenamiento\\components\\LibraryPanel.tsx`.\n\n**Referencias Obligatorias:**\n- Revisa @spec-library-panel.md (Sección 2 y 9: Estructura de Datos).\n- Revisa @editor_entrenamiento_definitivo.md (para asegurar que los tipos coincidan con el resto del sistema).",
    "**05_Resource_List_Render**: LISTADO DE RECURSOS. Implementa el renderizado de la lista de items en `src\\features\\EditorEntrenamiento\\components\\LibraryPanel.tsx`.\n\n**Instrucciones:**\n1. Crea el componente `LibraryCard` para mostrar cada ejercicio/bloque (Título, Subtítulo, Icono).\n2. Implementa el renderizado condicional de la lista según la tab activa y los datos mock.\n3. Añade los 'Sticky Headers' para la pestaña de Ejercicios (Favoritos, Recientes, Todos).\n4. Asegura que el scroll funcione correctamente dentro del área del cuerpo.\n\n**Referencias Obligatorias:**\n- Revisa @spec-library-panel.md (Sección 4: Lista de Recursos y Tarjeta).\n- Revisa @editor_entrenamiento_definitivo.md (para los estilos de tarjetas y listas).",
    "**06_Search_Filtering_Logic**: LÓGICA DE FILTRADO. Conecta la barra de búsqueda con la lista en `src\\features\\EditorEntrenamiento\\components\\LibraryPanel.tsx`.\n\n**Instrucciones:**\n1. Implementa la lógica de filtrado en tiempo real (o con debounce) usando `searchQuery`.\n2. Haz que la búsqueda sea 'fuzzy' (insensible a mayúsculas/tildes).\n3. Implementa el filtrado por categoría (Grupo Muscular/Equipo) si los filtros están activos.\n4. Muestra el estado 'Empty' si no hay resultados.\n\n**Referencias Obligatorias:**\n- Revisa @spec-library-panel.md (Sección 3 y 6: Estados UI).\n- Revisa @editor_entrenamiento_definitivo.md (para el diseño del estado vacío).",
    "**07_DnD_Draggable_Source**: ARRASTRE DE RECURSOS. Configura los items de la lista como fuentes arrastrables (`Draggable`) usando `@dnd-kit` en `src\\features\\EditorEntrenamiento\\components\\LibraryPanel.tsx`.\n\n**Instrucciones:**\n1. Envuelve cada `LibraryCard` con `useDraggable`.\n2. Define el `dragOverlay` para mostrar una versión compacta de la tarjeta mientras se arrastra.\n3. Asegúrate de que el objeto de datos (`data`) que se pasa al arrastrar contenga toda la info del ejercicio/bloque para que el Canvas pueda recibirlo.\n\n**Referencias Obligatorias:**\n- Revisa @spec-library-panel.md (Sección 4.A: Interacción DnD).\n- Revisa @editor_entrenamiento_definitivo.md (para la consistencia de la interacción DnD global).",
    "**08_Footer_Actions**: ACCIONES GLOBALES. Implementa el footer fijo en `src\\features\\EditorEntrenamiento\\components\\LibraryPanel.tsx`.\n\n**Instrucciones:**\n1. Añade el botón principal de acción en la parte inferior.\n2. Haz que el texto cambie dinámicamente según la pestaña activa ('+ Crear Ejercicio', '+ Crear Bloque').\n3. Estiliza el botón como primario (oscuro) para destacar.\n\n**Referencias Obligatorias:**\n- Revisa @spec-library-panel.md (Sección 5: Footer de Acciones).\n- Revisa @editor_entrenamiento_definitivo.md (para los estilos de botones primarios).",
    "**01_TopBar_Structure_And_Style**: INICIO DEL MONTAJE. Quiero que configures la estructura base del módulo TopBar en `src\\features\\EditorEntrenamiento\\components\\TopBar.tsx`.\n\n**Instrucciones:**\n1. Crea el elemento `<header>` con la altura fija, posición sticky y z-index definidos en la Sección 1.1 de la especificación.\n2. Implementa el layout Flexbox principal con las 3 zonas de contenido (Izquierda, Centro, Derecha).\n3. Define los estilos base (fondo blanco, borde inferior) usando Tailwind CSS.\n\n**Referencias Obligatorias:**\n- Revisa @spec-topbar-editor.md (Sección 1: Arquitectura Visual y Layout).\n- Revisa @editor_entrenamiento_definitivo.md (para mantener consistencia de layout, estilos y comportamiento global).",
    "**02_Brand_Area_Implementation**: ÁREA DE MARCA. Implementa el componente de Logo en la zona izquierda de `src\\features\\EditorEntrenamiento\\components\\TopBar.tsx`.\n\n**Instrucciones:**\n1. Crea el enlace/botón que redirige al `/dashboard`.\n2. Renderiza el isotipo (puedes usar un div placeholder o SVG) y el texto 'FitPro'.\n3. Asegura que el texto se oculte en mobile (< 1024px) y solo se muestre el icono.\n\n**Referencias Obligatorias:**\n- Revisa @spec-topbar-editor.md (Sección 2.A: Área de Marca).\n- Revisa @editor_entrenamiento_definitivo.md (para la tipografía y colores de la marca).",
    "**03_Client_Selector_Component**: SELECTOR DE CLIENTE. Implementa el 'Context Switcher' en la zona izquierda de `src\\features\\EditorEntrenamiento\\components\\TopBar.tsx`.\n\n**Instrucciones:**\n1. Crea el botón trigger con Avatar (iniciales), Nombre y Chevron.\n2. Implementa el Dropdown (usando un estado local `isOpen` o librería headless) con el input de búsqueda sticky.\n3. Renderiza una lista simulada de clientes recientes en el dropdown.\n4. Asegura que el nombre se trunque correctamente en pantallas medianas.\n\n**Referencias Obligatorias:**\n- Revisa @spec-topbar-editor.md (Sección 2.B: Selector de Cliente).\n- Revisa @editor_entrenamiento_definitivo.md (para los estilos de dropdowns y avatares).",
    "**04_AutoSave_Indicator**: ESTADO DE GUARDADO. Implementa el indicador visual de persistencia en la zona derecha de `src\\features\\EditorEntrenamiento\\components\\TopBar.tsx`.\n\n**Instrucciones:**\n1. Crea un componente que acepte props de estado: `saving`, `saved`, `error`.\n2. Implementa los 3 estados visuales: Spinner + 'Guardando...', Icono Check + 'Guardado hace X', Icono Alerta + 'Error'.\n3. Oculta este componente en mobile (< 1024px).\n\n**Referencias Obligatorias:**\n- Revisa @spec-topbar-editor.md (Sección 2.C: Indicador de Guardado).\n- Revisa @editor_entrenamiento_definitivo.md (para los iconos y colores de estado).",
    "**05_FitCoach_Toggle_Button**: TOGGLE FITCOACH. Implementa el botón para abrir/cerrar el panel de IA en la zona derecha de `src\\features\\EditorEntrenamiento\\components\\TopBar.tsx`.\n\n**Instrucciones:**\n1. Crea el botón con estilo 'Pill' (Pastilla).\n2. Gestiona el estado activo/inactivo cambiando el color de fondo y texto (Indigo vs Gris).\n3. Añade el badge de notificación (punto rojo) condicional.\n4. En mobile, reduce el botón a solo el icono.\n\n**Referencias Obligatorias:**\n- Revisa @spec-topbar-editor.md (Sección 2.D: Toggle FitCoach).\n- Revisa @editor_entrenamiento_definitivo.md (para los colores de la marca FitCoach).",
    "**06_User_Actions_Menu**: MENÚ DE USUARIO. Implementa el perfil y configuración en el extremo derecho de `src\\features\\EditorEntrenamiento\\components\\TopBar.tsx`.\n\n**Instrucciones:**\n1. Crea el Avatar de usuario con menú dropdown (Perfil, Cerrar Sesión).\n2. Añade el botón de Configuración (Engranaje) separado en desktop.\n3. En mobile, mueve la configuración dentro del menú de perfil o ocúltala según la spec.\n\n**Referencias Obligatorias:**\n- Revisa @spec-topbar-editor.md (Sección 2.E: Acciones de Usuario).\n- Revisa @editor_entrenamiento_definitivo.md (para consistencia en menús de usuario).",
    "**07_Responsive_Behavior**: ADAPTABILIDAD. Refina el comportamiento responsive de `src\\features\\EditorEntrenamiento\\components\\TopBar.tsx`.\n\n**Instrucciones:**\n1. Implementa el botón de menú hamburguesa para mobile (< 640px) en el extremo izquierdo.\n2. Asegura que el Logo, Selector de Cliente y Acciones se oculten/muestren correctamente según los breakpoints definidos.\n3. Verifica el padding y tamaños de fuente en las diferentes resoluciones.\n\n**Referencias Obligatorias:**\n- Revisa @spec-topbar-editor.md (Sección 3: Comportamiento Responsive).\n- Revisa @editor_entrenamiento_definitivo.md (para los breakpoints globales del sistema).",
    "**08_Accessibility_And_Shortcuts**: ACCESIBILIDAD Y ATAJOS. Añade los toques finales de a11y y lógica de teclado en `src\\features\\EditorEntrenamiento\\components\\TopBar.tsx`.\n\n**Instrucciones:**\n1. Añade atributos ARIA (`aria-expanded`, `aria-haspopup`, `aria-label`) a todos los botones interactivos.\n2. Implementa los listeners para atajos de teclado globales: `Cmd+K` (Focus cliente), `Cmd+/` (Toggle FitCoach).\n3. Asegura que el foco del teclado sea visible y lógico en todos los elementos.\n\n**Referencias Obligatorias:**\n- Revisa @spec-topbar-editor.md (Sección 4 y 6: Accesibilidad y Atajos).\n- Revisa @editor_entrenamiento_definitivo.md (para las guías de accesibilidad del proyecto).",
    "**01_FitCoach_Foundation**: INICIO DEL MONTAJE. Quiero que configures la estructura base del módulo FitCoach en `src\\features\\EditorEntrenamiento\\components\\FitCoachPanel.tsx`.\n\n**Instrucciones:**\n1. Crea el contenedor `<aside>` con el ancho fijo, bordes y estilos base definidos en la Sección 1.1 de la especificación.\n2. Implementa el estado de colapso (abierto/cerrado) y su representación visual mínima (Sección 1.2).\n3. Define la estructura interna Flex (`Header`, `Body Scrollable`, `Footer`) para preparar el terreno a las pestañas.\n\n**Referencias Obligatorias:**\n- Revisa @spec-fitcoach-panel.md (Sección 1: Arquitectura Visual y Layout).\n- Revisa @editor_entrenamiento_definitivo.md (para mantener consistencia de layout, estilos y comportamiento global).",
    "**02_Navigation_Tabs**: NAVEGACIÓN INTERNA. Implementa el sistema de pestañas en la cabecera de `src\\features\\EditorEntrenamiento\\components\\FitCoachPanel.tsx`.\n\n**Instrucciones:**\n1. Crea los 4 botones de navegación: Chat, Insights, Alertas, Métricas.\n2. Usa los iconos de Lucide especificados (`MessageSquare`, `BarChart2`, `AlertTriangle`, `TrendingUp`).\n3. Gestiona el estado `activeTab` para mostrar condicionalmente el contenido del cuerpo.\n4. Asegúrate de que el estilo de la pestaña activa vs inactiva coincida con la guía de diseño.\n\n**Referencias Obligatorias:**\n- Revisa @spec-fitcoach-panel.md (Sección 2: Sistema de Navegación).\n- Revisa @editor_entrenamiento_definitivo.md (para los estilos de tabs y tipografía).",
    "**03_Chat_UI_Components**: INTERFAZ DE CHAT. Implementa los componentes visuales del modo Chat dentro de `src\\features\\EditorEntrenamiento\\components\\FitCoachPanel.tsx`.\n\n**Instrucciones:**\n1. Crea el componente `MessageBubble` para renderizar mensajes de usuario (derecha, azul) y del bot (izquierda, gris).\n2. Implementa el área de Input fija en la parte inferior con botón de enviar.\n3. Añade soporte para `SuggestionChips` (píldoras de sugerencia) encima del input.\n4. Asegura que el área de mensajes tenga scroll automático al final.\n\n**Referencias Obligatorias:**\n- Revisa @spec-fitcoach-panel.md (Sección 3: Componentes del Chat).\n- Revisa @editor_entrenamiento_definitivo.md (para los colores y bordes redondeados de las burbujas).",
    "**04_Insights_Visualization**: MODO ANALÍTICO. Implementa la pestaña de Insights en `src\\features\\EditorEntrenamiento\\components\\FitCoachPanel.tsx` usando datos simulados (mocks).\n\n**Instrucciones:**\n1. Crea placeholders visuales para los gráficos clave: Volumen Semanal, Distribución Muscular y Patrones de Movimiento.\n2. Usa librerías de gráficos ligeras (como `Recharts` si está disponible, o CSS/SVG puro para barras simples).\n3. Muestra un 'Empty State' elegante si no hay datos cargados en el programa.\n\n**Referencias Obligatorias:**\n- Revisa @spec-fitcoach-panel.md (Sección 2.B: Pestaña Insights).\n- Revisa @editor_entrenamiento_definitivo.md (para la paleta de colores de los gráficos).",
    "**05_Alerts_Rule_Engine**: SISTEMA DE ALERTAS. Implementa la pestaña de Alertas y la lógica básica de validación en `src\\features\\EditorEntrenamiento\\components\\FitCoachPanel.tsx`.\n\n**Instrucciones:**\n1. Define la interfaz `Alert` (crítica, advertencia, info).\n2. Crea una lista visual de alertas con iconos y colores semánticos (Rojo, Amarillo, Azul).\n3. Implementa un 'Badge' contador en la pestaña de navegación si hay alertas activas.\n4. Simula 2-3 reglas de validación (ej: 'Día vacío') para probar el renderizado.\n\n**Referencias Obligatorias:**\n- Revisa @spec-fitcoach-panel.md (Sección 5: Sistema de Alertas).\n- Revisa @editor_entrenamiento_definitivo.md (para los estilos de notificaciones y badges).",
    "**06_Metrics_Dashboard**: MODO PROYECCIÓN. Implementa la pestaña de Métricas en `src\\features\\EditorEntrenamiento\\components\\FitCoachPanel.tsx`.\n\n**Instrucciones:**\n1. Crea tarjetas de resumen numérico (KPIs) para Volumen Total y Tonelaje Estimado.\n2. Implementa una visualización tabular o de lista para la comparativa con mesociclos anteriores (simulada).\n3. Asegura que el diseño sea limpio y fácil de leer (números grandes, etiquetas claras).\n\n**Referencias Obligatorias:**\n- Revisa @spec-fitcoach-panel.md (Sección 2.D: Pestaña Métricas).\n- Revisa @editor_entrenamiento_definitivo.md (para la jerarquía tipográfica de los números).",
    "**07_Chat_Interactions_Mock**: INTERACCIONES SIMULADAS. Añade interactividad básica al Chat en `src\\features\\EditorEntrenamiento\\components\\FitCoachPanel.tsx`.\n\n**Instrucciones:**\n1. Implementa un flujo simple: Al enviar un mensaje, mostrar indicador 'Escribiendo...' y responder con un mensaje predefinido después de un delay.\n2. Haz que los `SuggestionChips` inserten texto en el input o envíen el mensaje directamente al hacer click.\n3. Renderiza una `ActionCard` de ejemplo dentro de una respuesta del bot para probar la funcionalidad de acciones embebidas.\n\n**Referencias Obligatorias:**\n- Revisa @spec-fitcoach-panel.md (Sección 4: Lógica de Negocio e Integración IA).\n- Revisa @editor_entrenamiento_definitivo.md (para las interacciones y estados de carga).",
    "**08_Responsive_And_Polish**: PULIDO FINAL. Asegura la adaptabilidad y accesibilidad del módulo en `src\\features\\EditorEntrenamiento\\components\\FitCoachPanel.tsx`.\n\n**Instrucciones:**\n1. Implementa el comportamiento 'Drawer' (Slide-over) para móviles y tablets, asegurando que se superponga correctamente con `z-index`.\n2. Añade atributos ARIA (`aria-live`, `role`, etc.) para accesibilidad en el chat y alertas.\n3. Revisa y ajusta los contrastes de color y tamaños de fuente para cumplir con los estándares.\n\n**Referencias Obligatorias:**\n- Revisa @spec-fitcoach-panel.md (Sección 6 y 7: Accesibilidad y Responsive).\n- Revisa @editor_entrenamiento_definitivo.md (para los estándares globales de UX/UI)."

  ]
}